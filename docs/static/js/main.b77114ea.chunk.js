(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(2),r=c.n(s),a=c(26),i=c.n(a),o=c(13),j=c(8),u=c(4),l=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"navbar",children:[Object(n.jsx)(j.b,{className:"navbar__item",to:"/category/?name=videogames&ctgry=15",children:"Videogames"}),Object(n.jsx)(j.b,{className:"navbar__item",to:"/category/?name=computer science&ctgry=18",children:"Computer science"}),Object(n.jsx)(j.b,{className:"navbar__item",to:"/category/?name=anime&ctgry=31",children:"Anime"}),Object(n.jsx)(j.b,{className:"navbar__item",to:"/category/?name=music&ctgry=12",children:"Music"})]})})},b=function(){return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)("h1",{children:"QuizApp"}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Choose a category"}),Object(n.jsx)(l,{})]}),Object(n.jsxs)(j.b,{className:"scoreList__btn",to:"/scorelist",children:[Object(n.jsx)("i",{className:"fas fa-trophy"})," Score list"]})]})},d=c(14),O=function(){var e=Object(s.useContext)(y),t=e.user,c=e.setUser;return Object(n.jsx)("div",{className:"register_screen",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("h1",{children:["Welcome Mr. ",t.name,"!"]}),Object(n.jsx)("input",{onChange:function(e){sessionStorage.setItem("username",e.target.value),c((function(t){return Object(d.a)(Object(d.a)({},t),{},{name:e.target.value})}))},autoComplete:"off",required:!0,type:"text",name:"name",placeholder:"Put your name"}),t.name&&Object(n.jsx)(j.b,{to:"/home",children:"NEXT"})]})})},h=c(20);c(43);h.a.initializeApp({apiKey:"AIzaSyAB6dVPH1zbqefWeCn61gtERD8luStV98k",authDomain:"quiz-app-a4525.firebaseapp.com",projectId:"quiz-app-a4525",storageBucket:"quiz-app-a4525.appspot.com",messagingSenderId:"1087665009294",appId:"1:1087665009294:web:2bd2452127de0ef1558fdf"});var m=h.a.firestore(),x=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(s.useEffect)((function(){m.collection("users").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),r(t)}))}),[]),Object(n.jsxs)("div",{className:"scorelist",children:[Object(n.jsx)("h1",{className:"scorelist_title",children:"TOP WORLD BEST MASTER PLAYERS"}),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Score"}),Object(n.jsx)("th",{children:"Time"})]})}),Object(n.jsx)("tbody",{children:c.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.score}),Object(n.jsxs)("td",{children:[("0"+Math.floor(e.time/60).toString()).slice(-2),":",("0"+(e.time-60*Math.floor(e.time/60)).toString()).slice(-2)]})]},t)}))})]})]})},p=c(28),f=c.n(p),g=r.a.memo((function(e){var t=e.answers,c=e.correct_answer,s=e.setQuestionsNumbr,r=e.setScore;return Object(n.jsx)(n.Fragment,{children:t===c?Object(n.jsx)("p",{onClick:function(){r((function(e){return e+1})),s((function(e){return e+1}))},className:"answer",children:t}):Object(n.jsx)("p",{onClick:function(){s((function(e){return e+1}))},className:"answer",children:t})})})),v=function(){var e=Object(s.useContext)(y),t=e.user,c=e.setUser,r=Object(s.useState)(0),a=Object(o.a)(r,2),i=a[0],u=a[1],l=Object(s.useState)(0),b=Object(o.a)(l,2),O=b[0],h=b[1],x=Object(s.useState)(!1),p=Object(o.a)(x,2),v=p[0],N=p[1],_=f.a.parse(window.location.search),S=_.name,w=function(e,t){var c=Object(s.useState)({data:null,loading:!0}),n=Object(o.a)(c,2),r=n[0],a=n[1];return Object(s.useEffect)((function(){fetch("https://opentdb.com/api.php?amount=1&category=".concat(e,"&type=multiple")).then((function(e){return e.json()})).then((function(e){var t=e.results[0],c=t.correct_answer,n=t.question,s=t.incorrect_answers;a({data:{correct_answer:c,question:n,incorrect_answers:s},loading:!1})}))}),[e,t]),r}(_.ctgry,O),q=w.data,z=w.loading,C=Object(s.useRef)(0);if(Object(s.useEffect)((function(){20===O&&(c((function(e){return Object(d.a)(Object(d.a)({},e),{},{score:i})})),N(!0));var e=setInterval((function(){C.current++}),1100);return 20===O&&(c((function(e){return Object(d.a)(Object(d.a)({},e),{},{time:C.current})})),clearInterval(e)),function(){clearInterval(e),c((function(e){return Object(d.a)(Object(d.a)({},e),{},{score:null,time:0})}))}}),[c,i,O,z]),Object(s.useEffect)((function(){t.time&&m.collection("users").add(t)}),[t,O]),z)return Object(n.jsx)("h1",{children:"loading..."});var E=q||"",I=E.correct_answer,A=E.question,k=E.incorrect_answers;return 3===k.length&&k.splice(4*Math.random(),0,I),Object(n.jsxs)("div",{className:"quiz_screen",children:[Object(n.jsx)("h1",{children:S.toUpperCase()}),Object(n.jsxs)("span",{className:"quiz_screen-counter",children:[O,"/20"]}),Object(n.jsxs)("div",{className:"quizTable",children:[Object(n.jsx)("p",{className:"question",children:A}),Object(n.jsx)("ul",{className:"answers_container",children:k.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(g,{answers:e,correct_answer:I,setQuestionsNumbr:h,setScore:u})},t)}))})]}),v?Object(n.jsxs)("div",{className:"end_quiz-screen",children:[Object(n.jsx)("span",{className:"end_quiz-message",children:"Congratulations!"}),Object(n.jsxs)("span",{className:"end-quiz-score",children:["Your score: ",t.score]}),Object(n.jsx)(j.b,{to:"/scorelist",children:"Go to score list"})]}):""]})};function N(){return Object(n.jsx)(j.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/category/",component:v}),Object(n.jsx)(u.a,{exact:!0,path:"/scorelist",component:x})]})})})}function _(){return Object(n.jsx)(j.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/category/",component:N}),Object(n.jsx)(u.a,{exact:!0,path:"/home",component:b}),Object(n.jsx)(u.a,{exact:!0,path:"/scorelist",component:x}),Object(n.jsx)(u.a,{exact:!0,path:"/",component:O})]})})})}var y=r.a.createContext({}),S=function(){var e=Object(s.useState)({name:sessionStorage.getItem("username"),score:null,time:0}),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(y.Provider,{value:{user:c,setUser:r},children:Object(n.jsx)(_,{})})};c(40),c(41);i.a.render(Object(n.jsx)(S,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.b77114ea.chunk.js.map
{"version":3,"sources":["components/CategoryNav.js","components/Home.js","components/Register.js","firebase/firebaseConfig.js","components/ScoreList.js","components/Answers.js","components/CategoryQuiz.js","helpers/getQuestions.js","routers/QuizRoute.js","routers/AppRouter.js","QuizApp.js","index.js"],"names":["CategoryNav","className","to","Home","Register","useContext","userInfo","user","setUser","name","onChange","e","sessionStorage","setItem","target","value","state","autoComplete","required","type","placeholder","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","ScoreList","useState","setstate","useEffect","collection","onSnapshot","snap","users","forEach","snapChild","push","data","map","el","i","score","Math","floor","time","toString","slice","Answers","React","memo","answers","correct_answer","setQuestionsNumbr","setScore","onClick","CategoryQuiz","questionsNmbr","showEnd","setShowEnd","queryString","parse","window","location","search","ctgry","loading","fetch","then","res","json","results","question","incorrect_answers","useQuestions","ref","useRef","interval","setInterval","current","clearInterval","add","length","splice","random","toUpperCase","QuizRoute","path","component","exact","AppRouter","createContext","QuizApp","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b77114ea.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport const CategoryNav = () => {\r\n    \r\n    return (\r\n        <nav >\r\n            <ul className=\"navbar\">\r\n                \r\n                <Link className=\"navbar__item\" to=\"/category/?name=videogames&ctgry=15\">Videogames</Link>\r\n\r\n                <Link className=\"navbar__item\" to=\"/category/?name=computer science&ctgry=18\">Computer science</Link>\r\n\r\n                <Link className=\"navbar__item\" to=\"/category/?name=anime&ctgry=31\">Anime</Link>\r\n\r\n                <Link className=\"navbar__item\" to=\"/category/?name=music&ctgry=12\">Music</Link>\r\n                \r\n            \r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { CategoryNav } from './CategoryNav'\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport const Home = () => {\r\n\r\n\r\n    \r\n    return (\r\n        <div className=\"home\">\r\n           \r\n            <h1>QuizApp</h1>\r\n        <div>\r\n\r\n            <h2>Choose a category</h2>\r\n\r\n            <CategoryNav />\r\n        </div>\r\n\r\n            <Link className=\"scoreList__btn\" to=\"/scorelist\"><i className=\"fas fa-trophy\"></i> Score list</Link>\r\n        \r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { userInfo } from \"../QuizApp\";\r\nimport { Link } from \"react-router-dom\";\r\nexport const Register = () => {\r\n  const { user, setUser } = useContext(userInfo);\r\n\r\n  const handleOnChange = (e) => {\r\n    sessionStorage.setItem(\"username\", e.target.value);\r\n\r\n    setUser((state) => ({\r\n      ...state,\r\n      name: e.target.value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"register_screen\">\r\n      <form>\r\n        <h1>Welcome Mr. {user.name}!</h1>\r\n        <input\r\n          onChange={handleOnChange}\r\n          autoComplete=\"off\"\r\n          required\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Put your name\"\r\n        ></input>\r\n        {user.name && <Link to=\"/home\">NEXT</Link>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyAB6dVPH1zbqefWeCn61gtERD8luStV98k\",\r\n  authDomain: \"quiz-app-a4525.firebaseapp.com\",\r\n  projectId: \"quiz-app-a4525\",\r\n  storageBucket: \"quiz-app-a4525.appspot.com\",\r\n  messagingSenderId: \"1087665009294\",\r\n  appId: \"1:1087665009294:web:2bd2452127de0ef1558fdf\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore();\r\n\r\nexport { firebase, db };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"../firebase/firebaseConfig\";\r\n\r\nexport const ScoreList = () => {\r\n  const [state, setstate] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const docRef = db.collection(\"users\");\r\n\r\n    docRef.onSnapshot((snap) => {\r\n      const users = [];\r\n      snap.forEach((snapChild) => {\r\n        users.push(snapChild.data());\r\n      });\r\n      setstate(users);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"scorelist\">\r\n      <h1 className=\"scorelist_title\">TOP WORLD BEST MASTER PLAYERS</h1>\r\n\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Score</th>\r\n            <th>Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {state.map((el, i) => {\r\n            return (\r\n              <tr key={i}>\r\n                <td>{el.name}</td>\r\n                <td>{el.score}</td>\r\n                <td>\r\n                  {(\"0\" + Math.floor(el.time / 60).toString()).slice(-2)}:\r\n                  {(\r\n                    \"0\" + (el.time - Math.floor(el.time / 60) * 60).toString()\r\n                  ).slice(-2)}\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Answers = React.memo( ({\r\n  answers,\r\n  correct_answer,\r\n  setQuestionsNumbr,\r\n  setScore,\r\n}) => {\r\n  const handleCorrect = () => {\r\n    setScore((state) => state + 1);\r\n    setQuestionsNumbr((state) => state + 1);\r\n  };\r\n\r\n  const handleQuestions = () => {\r\n    setQuestionsNumbr((state) => state + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {answers === correct_answer ? (\r\n        <p onClick={handleCorrect} className=\"answer\">\r\n          {answers}\r\n        </p>\r\n      ) : (\r\n        <p onClick={handleQuestions} className=\"answer\">\r\n          {answers}\r\n        </p>\r\n      )}\r\n    </>\r\n  );\r\n});","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport { Answers } from \"./Answers\";\r\nimport { useQuestions } from \"../helpers/getQuestions\";\r\nimport { userInfo } from \"../QuizApp\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../firebase/firebaseConfig\";\r\n\r\nexport const CategoryQuiz = () => {\r\n  const { user, setUser } = useContext(userInfo);\r\n  const [score, setScore] = useState(0);\r\n  const [questionsNmbr, setQuestionsNumbr] = useState(0);\r\n  const [showEnd, setShowEnd] = useState(false);\r\n  const { name, ctgry } = queryString.parse(window.location.search);\r\n  const { data, loading } = useQuestions(ctgry, questionsNmbr);\r\n  const ref = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (questionsNmbr === 20) {\r\n      setUser((state) => ({ ...state, score }));\r\n      setShowEnd(true);\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      ref.current++;\r\n    }, 1100);\r\n\r\n    if (questionsNmbr === 20) {\r\n      setUser((state) => ({ ...state, time: ref.current }));\r\n      clearInterval(interval);\r\n    }\r\n\r\n    return () => {\r\n      \r\n      clearInterval(interval)\r\n      setUser(state=>({\r\n        ...state,\r\n        score: null,\r\n        time: 0\r\n      }))\r\n    };\r\n\r\n  }, [setUser, score, questionsNmbr, loading]);\r\n\r\n  useEffect(()=>{\r\n    if(user.time){\r\n      db.collection('users').add(user)\r\n    }\r\n  },[user,questionsNmbr])\r\n\r\n \r\n    \r\n    if (loading) return <h1>loading...</h1>;\r\n    \r\n    const { correct_answer, question, incorrect_answers } = data || \"\";\r\n    \r\n    if(incorrect_answers.length === 3){\r\n     incorrect_answers.splice(Math.random() * 4, 0, correct_answer);\r\n    }\r\n\r\n  \r\n  return (\r\n    <div className=\"quiz_screen\">\r\n      <h1>{name.toUpperCase()}</h1>\r\n\r\n      <span className=\"quiz_screen-counter\">{questionsNmbr}/20</span>\r\n\r\n      <div className=\"quizTable\">\r\n        <p className=\"question\">{question}</p>\r\n\r\n        <ul className=\"answers_container\">\r\n          {incorrect_answers.map((el, i) => {\r\n            return (\r\n              <li key={i}>\r\n                <Answers\r\n                  answers={el}\r\n                  correct_answer={correct_answer}\r\n                  setQuestionsNumbr={setQuestionsNumbr}\r\n                  setScore={setScore}\r\n                />\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n\r\n      {showEnd ? (\r\n        <div className=\"end_quiz-screen\">\r\n          <span className=\"end_quiz-message\">Congratulations!</span>\r\n          <span className=\"end-quiz-score\">Your score: {user.score}</span>\r\n          <Link to=\"/scorelist\">Go to score list</Link>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\n\r\nexport const useQuestions=(ctgry, questionsNmbr)=>{\r\n\r\n    const [state, setstate] = useState({\r\n        data: null,\r\n        loading: true,\r\n      });\r\n\r\n    useEffect(() => {\r\n        fetch(\r\n            `https://opentdb.com/api.php?amount=1&category=${ctgry}&type=multiple`\r\n            )\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                const { correct_answer, question, incorrect_answers } = json.results[0];\r\n                \r\n                setstate({\r\n                    data: { correct_answer, question, incorrect_answers },\r\n                    loading: false,\r\n                });\r\n            });\r\n        }, [ctgry, questionsNmbr]);\r\n\r\n        return state; \r\n        \r\n    }\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\nimport { CategoryQuiz } from \"../components/CategoryQuiz\";\r\nimport { ScoreList } from \"../components/ScoreList\";\r\n\r\nexport default function QuizRoute() {\r\n  return (\r\n    <Router>\r\n        \r\n      <div>\r\n        <Switch>\r\n          <Route path=\"/category/\" component={CategoryQuiz}></Route>\r\n          <Route exact path=\"/scorelist\" component={ScoreList}></Route>\r\n        </Switch>\r\n      </div>\r\n\r\n    </Router>\r\n  );\r\n}","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { Home } from \"../components/Home\";\r\nimport { Register } from \"../components/Register\";\r\nimport { ScoreList } from \"../components/ScoreList\";\r\nimport QuizRoute from \"./QuizRoute\";\r\n\r\nexport default function AppRouter() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n\r\n          <Route exact path=\"/category/\" component={QuizRoute}></Route>\r\n\r\n          <Route exact path=\"/home\" component={Home}></Route>\r\n\r\n          <Route exact path=\"/scorelist\" component={ScoreList}></Route>\r\n\r\n          <Route exact path=\"/\" component={Register}></Route>\r\n\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport AppRouter from \"./routers/AppRouter\";\r\n\r\nexport const userInfo = React.createContext({});\r\n\r\nexport const QuizApp = () => {\r\n  const [user, setUser] = useState({\r\n    name:sessionStorage.getItem('username'),\r\n    score:null,\r\n    time:0\r\n  })\r\n  \r\n  \r\n  return (\r\n    <userInfo.Provider value={{user, setUser}}>\r\n      <AppRouter />\r\n    </userInfo.Provider>\r\n  );\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { QuizApp } from './QuizApp';\nimport './styles/reset.css'\nimport './styles/index.css'\n\nReactDOM.render(\n    <QuizApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}